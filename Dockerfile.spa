# trunk-ignore-all(checkov/CKV_DOCKER_3)
FROM node:20.11.1-alpine

LABEL org.opencontainers.image.source="https://github.com/MeshAddicts/meshinfo"
LABEL org.opencontainers.image.description="Realtime web UI to run against a Meshtastic regional or private mesh network."

COPY . .

WORKDIR /frontend

RUN corepack enable
RUN yarn
RUN yarn build

ENV API_BASE_URI="http://localhost:9000"

HEALTHCHECK NONE

EXPOSE 8000

CMD ["yarn", "run", "start"]
